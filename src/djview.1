.\" Copyright (c) 2007- Leon Bottou
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual. Otherwise check the web site
.\" of the Free Software Foundation at http://www.fsf.org.
.TH DJVIEW4 1 "10/11/2001" "DjVuLibre" "DjVuLibre"
.de SS
.SH \\0\\0\\0\\$*
..
.SH NAME
djview4 \- Standalone DjVu viewer

.SH SYNOPSIS
.BI "djview4 [" "options" "] [" "argument" "]"

.SH DESCRIPTION
Standalone viewer for DjVu files.  
Features include navigating documents,
zooming and panning page images, 
producing and displaying thumbnails,
displaying document outlines,
searching documents for particular words in the hidden text layer,
copying hidden text to the clipboard,
saving pages and documents
as bundled or indirect multi-page files, 
and printing page and documents.
The viewer can simultaneously display several pages
using a side-by-side or a continuous layout.

.SH COMMAND LINE ARGUMENT AND OPTIONS
This program
can run as a standalone program or 
as a slave process for the DjVu browser plugin
.BR nsdejavu .
When running as a standalone program,
the command line argument
.I argument
can be:
.IP "*" 3
The filename of a valid DjVu document.
.IP "*" 3
A local DjVu document 
.SM URL
of the form:
.IP "" 5
.BI "file:///" path "/" name.djvu "[?djvuopts&" keyword = value "&...]"
.IP "" 3
The square brackets delimit the optional components of the 
.SM URL.
Various options can be specified using a syntax
similar to that of
.SM CGI
arguments.
Specifying options in this manner is very useful 
for a browser plugin because there are no 
command line arguments.
In the case of a standalone viewer,
all options can be specified as command line arguments.
.IP "*" 3
An remote DjVu document 
.SM URL
of the form:
.IP "" 5
.BI http:// host / path "/" name.djvu "[?djvuopts&" keyword = value "&...]"
.IP "" 3
Browsing remote DjVu documents with the standalone viewer
is less efficient than using the browser plugin.
The standalone viewer does not benefit from the browser
caching strategies and proxy settings.
Proxy settings for the standalone viewer can be set
independently with the preferences dialog.
.PP

An extensive list of options are recognized.
Most options can be specified as command line argument starting
with the customary dash character
.BR "" "(" "-" ")"
or using the syntax of
.SM CGI
arguments in the document 
.SM URL.
Some options however are only meaningful 
as command line arguments.
Other options are only recognized when
running the 
.SM X11
version of the 
.BR djview4
program.

.SH COMMAND LINE OPTIONS
The following options are only meaningful
when specified on the command line.

.TP
.B "-help"
Display a brief help message.

.TP
.B "-verbose"
Prints informational messages on the console.
This option is very useful because it displays
messages about the unrecognized constructs
in the DjVu annotation and hyperlink layers.

.TP
.BI "-fullscreen, -fs "
Start 
.B djview4 
in full screen mode.
Use the key
.B F11
to exit the full screen mode.

.TP
.BI "-style=" "stylename"
Specify the graphical user interface style.
The recognized values for
.I stylename
depend on the installed version of the Qt toolkit.
Common style names include
.BR cde ,
.BR motif ,
.BR plastique ,
.BR platinum ,
and
.BR windows .

.TP
.BI "-netscape"
This option should exclusively be used by the browser plugin
.B nsdejavu
to start the program
.BR djview4 
as a slave process.


.SH X11 OPTIONS
The following command line options are recognized by the
.SM X11
version of the 
.B djview4
program.

.TP
.BI "-display=" "displayname"
Specify that the 
.B djview3
windows should appear on the X11 display 
.IR displayname .

.TP
.BI "-geometry=" W x H + X + Y
Specify the initial size and position of the first window
using the traditional X11 geometry specification syntax.
The numerical arguments 
.IR W " and " H
represent the initial window width and height.
The numerical arguments 
.IR X " and " Y
indicate the window position relative to the 
top left corner of the screen.

.TP
.BI "-name " "name"
Set the application name.

.TP
.BI "-title " "title"
Set the title of the first window.

.TP
.BI "-fn " "fontname" ", -font " "fontname"
Specify the name of the default font 
used for buttons and menus.
The font should be specified using 
a X logical font description string.
.TP
.BI "-bg " "color" ", -background " "color"
Specify the default background color for 
graphical user interface elements.
The color should be given as a standard X11 color name.

.TP
.BI "-fg " "color" ", -foreground " "color"
Specify the default foreground color for 
graphical user interface elements.
The color should be given as a standard X11 color name.

.TP
.BI "-btn " "color"
Specify the default button color.
The color should be given as a standard X11 color name.

.TP
.B "-ncols " "count"
Limit the number of colors allocated on a 8 bit display. 
The default color cube contains 216 distinct colors.
.TP
.B "-cmap"
Force the allocation of a private color map on a 8-bit display.
This might increase the color quality but cause flashing
when the viewer window gets activated.


.SH GENERAL OPTIONS
The following options can be specified as command line options
or can be passed by augmenting the document 
.SM URL
using a syntax similar to that of
.SM CGI
arguments
.IP "" 3
.BI "http://.../file.djvu?djvuopts&" "key=value" "&" "key=value" "&" "..."
.PP
In order to separate real
.SM CGI 
arguments from these options,
the viewer only recognizes keywords 
that appear after the word
.BR djvuopts .
The keywords
.I key
are derived from the option names 
by removing the initial dashes. 

.TP
.BI "-page=" "pagename"
Display a specific document page.
The viewer first searches a page 
whose title matches the argument
.IR pagename .
Otherwise, it tries first to interpret the
argument as a number indicating the 
position of the page, and then as a string 
matching the internal page identifiers.

This convention might cause ambiguities when
page titles can be interpreted as numbers.
Therefore a number preceded by a dollar sign
.BR "" "(" "$" ")"
is always interpreted as the position of the
desired page regardless of the existing 
page names.

.TP
.BI -passive=(yes|no)
Cause the DjVu image to be displayed in a manner similar 
to an ordinary web image.
The default zoom factor is changed to "Fit Page".
The toolbar, the pop-up menu, the scroll bar, and the
keyboard shortcuts are disabled.
The default is no.

.TP
.BI -scrollbars=(yes|no)
Enable or disable the presence of scroll bars when the full
image size exceeds the plugin window size. 
 The default is yes.

.TP
.BI -menu=(yes|no)
Enable or disable the pop-up menu.
The pop-up menu is enabled by default.

.TP
.BI -keyboard=(yes|no)
Enable or disable the DjVu plugin keyboard shortcuts.
The default is yes (enabled).

.TP
.BI -frame=(yes|no)
Enable or disable the display of a thin frame 
and shadow around the DjVu images.
Frames are enabled by default.

.TP
.BI -links=(yes|no)
Enable or disable hyper-links in the DjVu image.
Hyper-links are enabled by default.

.TP
.BI -zoom= zoomfactor
Specify the initial zoom factor.
Unless the toolbar, pop-up menu and keyboard are disabled,
the user will be able to change the zoom factor.
Legal values for
.I zoomfactor
are shown in the below:
.br
.TS
center,box;
lfI l
lfB l
lfB l
lfB l
lfB l
.
number	Magnification factor in range 10% to 999%.
one2one	Select the "one-to-one" mode.
width	Select the "fit width" mode.
page	Select the "fit page" mode.
stretch	Stretch the image to the plugin window size.
.TE
.PP

.TP
.BI -mode= modespec
Specify the initial display mode.
Unless the toolbar and pop-up menu are disabled,
the user will be able to change it.
Legal values for
.I modespec
are shown in the below:
.br
.TS
center,box;
lfB l
lfB l
lfB l
lfB l
.
color	Display the color image.
bw	Display the foreground mask only.
fore	Display the foreground only.
back	Display the background only.
.TE
.PP

.TP
.BI -hor_align= keyword
Specify the horizontal position of the page in the viewer window.
(This does not specify what part of the page will be shown, but rather
how margins will be laid out around the page in the plugin window.)
Argument
.I keyword
must be
.BR left ,
.BR center ,
or
.BR right .

.TP
.BI -ver_align= keyword
Specify the vertical position of the page in the viewer window.
(This does not specify what part of the page will be shown, but rather
how margins will be laid out around the page in the plugin window.)
Argument
.I keyword
must be
.BR top ,
.BR center ,
or
.BR bottom .

.TP
.BI -toolbar= keyword {(,|+|-) keyword }
Controls the appearance and the contents of the toolbar.
The argument of option
.B toolbar
is composed of a number of keywords separated
by characters comma, plus or minus.
The appearance of the toolbar is controlled by keywords
placed before the first occurrence of a character plus
or minus. The following keywords are recognized in
this context:
.br
.TS
center,box;
lfB l
lfB l
lfB l
lfB l
lfB l
.
no	Disable toolbar.
always	Disable toolbar "autohide" mode.
auto	Enable toolbar "autohide" mode.
top	Place toolbar along top edge (not implemented).
bottom	Place toolbar along bottom edge.
.TE
.IP ""
The contents of the toolbar is controlled by keywords
placed after the first occurrence of a
character plus or minus.
Each keyword adds (after a plus) or remove (after a minus)
a particular toolbar button or group of buttons.
The initial content of the toolbar is determined
by the first occurrence of a character plus or minus.
When this is a plus
the toolbar is initially empty.
When this is a minus
the toolbar is initially full.

The following keywords are recognized:
.br
.TS
center,box;
lfB l
lfB l
lfB l
lfB l
lfB l
lfB l
lfB l
lfB l
lfB l
lfB l
lfB l
lfB l
lfB l
lfB l
.
modecombo	for the display mode selection tool.
zoomcombo	for the zoom selection tool.
zoom	for the zoom buttons.
select	for the selection mode button.
rotate	for the image rotation buttons.
find	for the text search button.
new	for the new window button.
open	for the open new document button.
save	for the save button.
print	for the print button.
layout	for the page layout buttons.
pagecombo	for the page selection tool.
firstlast	for the first-page and last-page buttons.
prevnext	for the previous- and next-page buttons.
backforw	reserved for the back and forward buttons.
help	for the contextual help button.
.TE
.PP
For the sake of backward compatibility,
the keywords
.BR fore ,
.BR back ,
.BR color ,
and
.BR color 
are interpreted like keyword
.BR modecombo ;
the keyword
.BR rescombo
is a synonym of 
.BR zoomcombo ;
the keywords
.BR pan ,
.BR zoomsel ,
and
.BR textsel
are interpreted like keyword
.BR select ;
and the keyword 
.BR doublepage
is interpreter like keyword
.BR layout .
All other keywords are ignored.
.PP

.TP
.BI -highlight= x , y , w , h [, color ]
Display a highlighted rectangle at the specified coordinates and with the
specified color.  Coordinates
.IR x ", " y ", " w ", and " h
are measured in document image coordinates (not screen coordinates).
The origin is set at the bottom left corner of the image.  The color
.I color
must be given in hexadecimal
.SM RRGGBB
format.
Omitting the color argument means to use
.SM XOR
highlighting.  Multiple highlighted zone can be specified.

.TP
.BI -rotate=(0|90|180|270)
Rotate the djvu image by the specified angle expressed
in degrees counter-clockwise.

.TP
.BI -print=(yes|no)
Enable or disable printing the DjVu image.
Printing is enabled by default.

.TP
.BI -cache=(yes|no)
Enable or disable the caching of fully decoded pages of the document.
Caching is on by default.  
Caching of documents whose
.SM URL
does not contain extension
.BE .djvu " or " .djv
is off by default.



TO BE COMPLETED...



.SH KEYS

TO BE COMPLETED...


.SH CREDITS
The program 
.B djview4 
was written by L\('eon Bottou <leonb@users.sourceforge.net>.

.SH SEE ALSO
.BR djvu (1),
.BR ddjvu (1),
.BR nsdejavu (1)
